(()=>{"use strict";const e=window.wp.blocks,a=window.wp.blockEditor,i=window.wp.components,n=window.wp.element,t=window.wp.i18n,r=window.ReactJSXRuntime,l=({label:e,value:a,onChange:l})=>{const[s,o]=(0,n.useState)(0),[c,d]=(0,n.useState)(0);return(0,n.useEffect)(()=>{if(a&&a.startsWith("PT")){const e=a.substring(2),i=e.match(/(\d+)H/),n=e.match(/(\d+)M/);i&&o(parseInt(i[1])),n&&d(parseInt(n[1]))}},[]),(0,n.useEffect)(()=>{let e="PT";s>0&&(e+=s+"H"),c>0&&(e+=c+"M"),"PT"===e&&(e=""),l(e)},[s,c]),(0,r.jsxs)("div",{className:"recipe-duration-input",children:[(0,r.jsx)("label",{children:e}),(0,r.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[(0,r.jsx)(i.__experimentalNumberControl,{label:(0,t.__)("Hours","datamachine-recipes"),value:s,min:0,onChange:e=>o(parseInt(e)||0)}),(0,r.jsx)(i.__experimentalNumberControl,{label:(0,t.__)("Minutes","datamachine-recipes"),value:c,min:0,max:59,onChange:e=>d(parseInt(e)||0)})]})]})},s=({label:e,items:a,onChange:n,placeholder:l})=>(0,r.jsxs)("div",{className:"recipe-array-input",children:[(0,r.jsx)("label",{children:e}),a.map((e,s)=>(0,r.jsxs)("div",{style:{display:"flex",gap:"10px",marginBottom:"10px"},children:[(0,r.jsx)(i.TextareaControl,{value:e,onChange:e=>{((e,i)=>{const t=[...a];t[e]=i,n(t)})(s,e)},placeholder:l,rows:2}),(0,r.jsx)(i.Button,{isSecondary:!0,isDestructive:!0,onClick:()=>{(e=>{const i=a.filter((a,i)=>i!==e);n(i)})(s)},children:(0,t.__)("Remove","datamachine-recipes")})]},s)),(0,r.jsx)(i.Button,{isPrimary:!0,onClick:()=>{n([...a,""])},children:(0,t.__)("Add Item","datamachine-recipes")})]}),o=({label:e,tags:a,onChange:l})=>{const[s,o]=(0,n.useState)(""),c=()=>{s.trim()&&!a.includes(s.trim())&&(l([...a,s.trim()]),o(""))};return(0,r.jsxs)("div",{className:"recipe-tag-input",children:[(0,r.jsx)("label",{children:e}),(0,r.jsx)("div",{style:{marginBottom:"10px"},children:a.map((e,i)=>(0,r.jsxs)("span",{className:"recipe-tag",style:{display:"inline-block",background:"#e0e0e0",padding:"2px 8px",margin:"2px",borderRadius:"3px"},children:[e,(0,r.jsx)("button",{onClick:()=>{var e;e=i,l(a.filter((a,i)=>i!==e))},style:{marginLeft:"5px",background:"none",border:"none",cursor:"pointer"},children:"Ã—"})]},i))}),(0,r.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,r.jsx)(i.TextControl,{value:s,onChange:o,onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),c())},placeholder:(0,t.__)("Enter tag and press Enter","datamachine-recipes")}),(0,r.jsx)(i.Button,{isSecondary:!0,onClick:c,children:(0,t.__)("Add","datamachine-recipes")})]})]})};(0,e.registerBlockType)("datamachine-recipes/recipe-schema",{title:(0,t.__)("Recipe Schema","datamachine-recipes"),icon:"food",category:"common",description:(0,t.__)("Complete Schema.org Recipe structured data block","datamachine-recipes"),edit:({attributes:e,setAttributes:n})=>{const{recipeName:c,description:d,prepTime:p,cookTime:m,totalTime:h,recipeYield:x,recipeCategory:g,recipeCuisine:u,recipeIngredient:_,recipeInstructions:C,nutrition:v,suitableForDiet:b,keywords:j,cookingMethod:y,video:f,author:T,estimatedCost:B,tool:k,supply:w}=e,I=(0,a.useBlockProps)(),S=[{label:(0,t.__)("Select Cuisine","datamachine-recipes"),value:""},{label:(0,t.__)("American","datamachine-recipes"),value:"American"},{label:(0,t.__)("Italian","datamachine-recipes"),value:"Italian"},{label:(0,t.__)("Mexican","datamachine-recipes"),value:"Mexican"},{label:(0,t.__)("Chinese","datamachine-recipes"),value:"Chinese"},{label:(0,t.__)("Indian","datamachine-recipes"),value:"Indian"},{label:(0,t.__)("French","datamachine-recipes"),value:"French"},{label:(0,t.__)("Mediterranean","datamachine-recipes"),value:"Mediterranean"},{label:(0,t.__)("Asian","datamachine-recipes"),value:"Asian"},{label:(0,t.__)("European","datamachine-recipes"),value:"European"},{label:(0,t.__)("Other","datamachine-recipes"),value:"Other"}];return(0,r.jsxs)("div",{...I,children:[(0,r.jsxs)("div",{style:{background:"#f8f9fa",border:"1px solid #e0e0e0",borderRadius:"4px",padding:"16px",marginBottom:"20px"},children:[(0,r.jsxs)("h3",{style:{margin:"0 0 8px 0",color:"#1e1e1e"},children:["ðŸ½ï¸ ",(0,t.__)("Recipe Schema Block","datamachine-recipes")]}),(0,r.jsx)("p",{style:{margin:0,color:"#666",fontSize:"14px"},children:(0,t.__)("This block generates structured data for search engines using the post featured image. Content is not displayed on the frontend but provides rich recipe information for SEO and search results.","datamachine-recipes")})]}),(0,r.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,r.jsx)("h4",{style:{marginBottom:"12px",color:"#1e1e1e"},children:(0,t.__)("Basic Information","datamachine-recipes")}),(0,r.jsx)(i.TextControl,{label:(0,t.__)("Recipe Name","datamachine-recipes"),value:c,onChange:e=>n({recipeName:e}),style:{marginBottom:"12px"}}),(0,r.jsx)(i.TextareaControl,{label:(0,t.__)("Description","datamachine-recipes"),value:d,onChange:e=>n({description:e}),rows:4,style:{marginBottom:"12px"}})]}),(0,r.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,r.jsx)("h4",{style:{marginBottom:"12px",color:"#1e1e1e"},children:(0,t.__)("Timing","datamachine-recipes")}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px"},children:[(0,r.jsx)(l,{label:(0,t.__)("Prep Time","datamachine-recipes"),value:p,onChange:e=>n({prepTime:e})}),(0,r.jsx)(l,{label:(0,t.__)("Cook Time","datamachine-recipes"),value:m,onChange:e=>n({cookTime:e})}),(0,r.jsx)(l,{label:(0,t.__)("Total Time","datamachine-recipes"),value:h,onChange:e=>n({totalTime:e})}),(0,r.jsx)(i.TextControl,{label:(0,t.__)("Yield (servings)","datamachine-recipes"),value:x,onChange:e=>n({recipeYield:e}),placeholder:"e.g., 4 servings"})]})]}),(0,r.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,r.jsx)("h4",{style:{marginBottom:"12px",color:"#1e1e1e"},children:(0,t.__)("Categories & Cuisine","datamachine-recipes")}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px"},children:[(0,r.jsx)(i.SelectControl,{label:(0,t.__)("Cuisine","datamachine-recipes"),value:u,options:S,onChange:e=>n({recipeCuisine:e})}),(0,r.jsx)(i.TextControl,{label:(0,t.__)("Cooking Method","datamachine-recipes"),value:y,onChange:e=>n({cookingMethod:e}),placeholder:"e.g., Baking, Frying"})]}),(0,r.jsx)("div",{style:{marginTop:"12px"},children:(0,r.jsx)(o,{label:(0,t.__)("Recipe Categories","datamachine-recipes"),tags:g,onChange:e=>n({recipeCategory:e})})})]}),(0,r.jsx)("div",{style:{marginBottom:"24px"},children:(0,r.jsx)(s,{label:(0,t.__)("Recipe Ingredients","datamachine-recipes"),items:_,onChange:e=>n({recipeIngredient:e}),placeholder:"e.g., 1 cup flour, 2 eggs, 1/2 cup sugar"})}),(0,r.jsx)("div",{style:{marginBottom:"24px"},children:(0,r.jsx)(s,{label:(0,t.__)("Recipe Instructions","datamachine-recipes"),items:C,onChange:e=>n({recipeInstructions:e}),placeholder:"Enter each step of the recipe"})}),(0,r.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,r.jsx)("h4",{style:{marginBottom:"12px",color:"#1e1e1e"},children:(0,t.__)("Nutrition Information (Optional)","datamachine-recipes")}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"12px"},children:[(0,r.jsx)(i.TextControl,{label:(0,t.__)("Calories","datamachine-recipes"),value:v.calories||"",onChange:e=>n({nutrition:{...v,calories:e}}),placeholder:"250 calories"}),(0,r.jsx)(i.TextControl,{label:(0,t.__)("Carbs","datamachine-recipes"),value:v.carbohydrateContent||"",onChange:e=>n({nutrition:{...v,carbohydrateContent:e}}),placeholder:"30g"}),(0,r.jsx)(i.TextControl,{label:(0,t.__)("Protein","datamachine-recipes"),value:v.proteinContent||"",onChange:e=>n({nutrition:{...v,proteinContent:e}}),placeholder:"15g"}),(0,r.jsx)(i.TextControl,{label:(0,t.__)("Fat","datamachine-recipes"),value:v.fatContent||"",onChange:e=>n({nutrition:{...v,fatContent:e}}),placeholder:"10g"}),(0,r.jsx)(i.TextControl,{label:(0,t.__)("Serving Size","datamachine-recipes"),value:v.servingSize||"",onChange:e=>n({nutrition:{...v,servingSize:e}}),placeholder:"1 cup"})]})]}),(0,r.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,r.jsx)("h4",{style:{marginBottom:"12px",color:"#1e1e1e"},children:(0,t.__)("Additional Information (Optional)","datamachine-recipes")}),(0,r.jsx)("div",{style:{marginBottom:"12px"},children:(0,r.jsx)(o,{label:(0,t.__)("Keywords/Tags","datamachine-recipes"),tags:j,onChange:e=>n({keywords:e})})}),(0,r.jsx)("div",{style:{marginBottom:"12px"},children:(0,r.jsx)(o,{label:(0,t.__)("Suitable for Diet","datamachine-recipes"),tags:b,onChange:e=>n({suitableForDiet:e})})}),(0,r.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:(0,r.jsx)(i.TextControl,{label:(0,t.__)("Estimated Cost","datamachine-recipes"),value:B,onChange:e=>n({estimatedCost:e}),placeholder:"$15, Â£10"})}),(0,r.jsx)("div",{style:{marginTop:"12px"},children:(0,r.jsx)(s,{label:(0,t.__)("Tools/Equipment","datamachine-recipes"),items:k,onChange:e=>n({tool:e}),placeholder:"e.g., mixing bowl, whisk, oven"})})]})]})},save:()=>null})})();