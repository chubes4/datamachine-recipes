(()=>{"use strict";const e=window.React,t=window.wp.blocks,a=window.wp.blockEditor,r=window.wp.components,n=window.wp.element,l=window.wp.i18n,i=({label:t,value:a,onChange:i})=>{const[o,c]=(0,n.useState)(0),[m,s]=(0,n.useState)(0);return(0,n.useEffect)(()=>{if(a&&a.startsWith("PT")){const e=a.substring(2),t=e.match(/(\d+)H/),r=e.match(/(\d+)M/);t&&c(parseInt(t[1])),r&&s(parseInt(r[1]))}},[]),(0,n.useEffect)(()=>{let e="PT";o>0&&(e+=o+"H"),m>0&&(e+=m+"M"),"PT"===e&&(e=""),i(e)},[o,m]),(0,e.createElement)("div",{className:"recipe-duration-input"},(0,e.createElement)("label",null,t),(0,e.createElement)("div",{style:{display:"flex",gap:"10px",alignItems:"center"}},(0,e.createElement)(r.__experimentalNumberControl,{label:(0,l.__)("Hours","dm-recipes"),value:o,min:0,onChange:e=>c(parseInt(e)||0)}),(0,e.createElement)(r.__experimentalNumberControl,{label:(0,l.__)("Minutes","dm-recipes"),value:m,min:0,max:59,onChange:e=>s(parseInt(e)||0)})))},o=({label:t,items:a,onChange:n,placeholder:i})=>(0,e.createElement)("div",{className:"recipe-array-input"},(0,e.createElement)("label",null,t),a.map((t,o)=>(0,e.createElement)("div",{key:o,style:{display:"flex",gap:"10px",marginBottom:"10px"}},(0,e.createElement)(r.TextareaControl,{value:t,onChange:e=>{((e,t)=>{const r=[...a];r[e]=t,n(r)})(o,e)},placeholder:i,rows:2}),(0,e.createElement)(r.Button,{isSecondary:!0,isDestructive:!0,onClick:()=>{(e=>{const t=a.filter((t,a)=>a!==e);n(t)})(o)}},(0,l.__)("Remove","dm-recipes")))),(0,e.createElement)(r.Button,{isPrimary:!0,onClick:()=>{n([...a,""])}},(0,l.__)("Add Item","dm-recipes"))),c=({label:t,tags:a,onChange:i})=>{const[o,c]=(0,n.useState)(""),m=()=>{o.trim()&&!a.includes(o.trim())&&(i([...a,o.trim()]),c(""))};return(0,e.createElement)("div",{className:"recipe-tag-input"},(0,e.createElement)("label",null,t),(0,e.createElement)("div",{style:{marginBottom:"10px"}},a.map((t,r)=>(0,e.createElement)("span",{key:r,className:"recipe-tag",style:{display:"inline-block",background:"#e0e0e0",padding:"2px 8px",margin:"2px",borderRadius:"3px"}},t,(0,e.createElement)("button",{onClick:()=>{var e;e=r,i(a.filter((t,a)=>a!==e))},style:{marginLeft:"5px",background:"none",border:"none",cursor:"pointer"}},"Ã—")))),(0,e.createElement)("div",{style:{display:"flex",gap:"10px"}},(0,e.createElement)(r.TextControl,{value:o,onChange:c,onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),m())},placeholder:(0,l.__)("Enter tag and press Enter","dm-recipes")}),(0,e.createElement)(r.Button,{isSecondary:!0,onClick:m},(0,l.__)("Add","dm-recipes"))))};(0,t.registerBlockType)("dm-recipes/recipe-schema",{title:(0,l.__)("Recipe Schema","dm-recipes"),icon:"food",category:"common",description:(0,l.__)("Complete Schema.org Recipe structured data block","dm-recipes"),edit:({attributes:t,setAttributes:n})=>{const{recipeName:m,description:s,prepTime:p,cookTime:d,totalTime:g,recipeYield:u,recipeCategory:_,recipeCuisine:C,recipeIngredient:h,recipeInstructions:E,nutrition:v,suitableForDiet:b,keywords:x,cookingMethod:y,video:f,author:T,estimatedCost:k,tool:B,supply:w}=t,I=(0,a.useBlockProps)(),S=[{label:(0,l.__)("Select Cuisine","dm-recipes"),value:""},{label:(0,l.__)("American","dm-recipes"),value:"American"},{label:(0,l.__)("Italian","dm-recipes"),value:"Italian"},{label:(0,l.__)("Mexican","dm-recipes"),value:"Mexican"},{label:(0,l.__)("Chinese","dm-recipes"),value:"Chinese"},{label:(0,l.__)("Indian","dm-recipes"),value:"Indian"},{label:(0,l.__)("French","dm-recipes"),value:"French"},{label:(0,l.__)("Mediterranean","dm-recipes"),value:"Mediterranean"},{label:(0,l.__)("Asian","dm-recipes"),value:"Asian"},{label:(0,l.__)("European","dm-recipes"),value:"European"},{label:(0,l.__)("Other","dm-recipes"),value:"Other"}];return(0,e.createElement)("div",{...I},(0,e.createElement)("div",{style:{background:"#f8f9fa",border:"1px solid #e0e0e0",borderRadius:"4px",padding:"16px",marginBottom:"20px"}},(0,e.createElement)("h3",{style:{margin:"0 0 8px 0",color:"#1e1e1e"}},"ðŸ½ï¸ ",(0,l.__)("Recipe Schema Block","dm-recipes")),(0,e.createElement)("p",{style:{margin:0,color:"#666",fontSize:"14px"}},(0,l.__)("This block generates structured data for search engines using the post featured image. Content is not displayed on the frontend but provides rich recipe information for SEO and search results.","dm-recipes"))),(0,e.createElement)("div",{style:{marginBottom:"24px"}},(0,e.createElement)("h4",{style:{marginBottom:"12px",color:"#1e1e1e"}},(0,l.__)("Basic Information","dm-recipes")),(0,e.createElement)(r.TextControl,{label:(0,l.__)("Recipe Name","dm-recipes"),value:m,onChange:e=>n({recipeName:e}),style:{marginBottom:"12px"}}),(0,e.createElement)(r.TextareaControl,{label:(0,l.__)("Description","dm-recipes"),value:s,onChange:e=>n({description:e}),rows:4,style:{marginBottom:"12px"}})),(0,e.createElement)("div",{style:{marginBottom:"24px"}},(0,e.createElement)("h4",{style:{marginBottom:"12px",color:"#1e1e1e"}},(0,l.__)("Timing","dm-recipes")),(0,e.createElement)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px"}},(0,e.createElement)(i,{label:(0,l.__)("Prep Time","dm-recipes"),value:p,onChange:e=>n({prepTime:e})}),(0,e.createElement)(i,{label:(0,l.__)("Cook Time","dm-recipes"),value:d,onChange:e=>n({cookTime:e})}),(0,e.createElement)(i,{label:(0,l.__)("Total Time","dm-recipes"),value:g,onChange:e=>n({totalTime:e})}),(0,e.createElement)(r.TextControl,{label:(0,l.__)("Yield (servings)","dm-recipes"),value:u,onChange:e=>n({recipeYield:e}),placeholder:"e.g., 4 servings"}))),(0,e.createElement)("div",{style:{marginBottom:"24px"}},(0,e.createElement)("h4",{style:{marginBottom:"12px",color:"#1e1e1e"}},(0,l.__)("Categories & Cuisine","dm-recipes")),(0,e.createElement)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px"}},(0,e.createElement)(r.SelectControl,{label:(0,l.__)("Cuisine","dm-recipes"),value:C,options:S,onChange:e=>n({recipeCuisine:e})}),(0,e.createElement)(r.TextControl,{label:(0,l.__)("Cooking Method","dm-recipes"),value:y,onChange:e=>n({cookingMethod:e}),placeholder:"e.g., Baking, Frying"})),(0,e.createElement)("div",{style:{marginTop:"12px"}},(0,e.createElement)(c,{label:(0,l.__)("Recipe Categories","dm-recipes"),tags:_,onChange:e=>n({recipeCategory:e})}))),(0,e.createElement)("div",{style:{marginBottom:"24px"}},(0,e.createElement)(o,{label:(0,l.__)("Recipe Ingredients","dm-recipes"),items:h,onChange:e=>n({recipeIngredient:e}),placeholder:"e.g., 1 cup flour, 2 eggs, 1/2 cup sugar"})),(0,e.createElement)("div",{style:{marginBottom:"24px"}},(0,e.createElement)(o,{label:(0,l.__)("Recipe Instructions","dm-recipes"),items:E,onChange:e=>n({recipeInstructions:e}),placeholder:"Enter each step of the recipe"})),(0,e.createElement)("div",{style:{marginBottom:"24px"}},(0,e.createElement)("h4",{style:{marginBottom:"12px",color:"#1e1e1e"}},(0,l.__)("Nutrition Information (Optional)","dm-recipes")),(0,e.createElement)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"12px"}},(0,e.createElement)(r.TextControl,{label:(0,l.__)("Calories","dm-recipes"),value:v.calories||"",onChange:e=>n({nutrition:{...v,calories:e}}),placeholder:"250 calories"}),(0,e.createElement)(r.TextControl,{label:(0,l.__)("Carbs","dm-recipes"),value:v.carbohydrateContent||"",onChange:e=>n({nutrition:{...v,carbohydrateContent:e}}),placeholder:"30g"}),(0,e.createElement)(r.TextControl,{label:(0,l.__)("Protein","dm-recipes"),value:v.proteinContent||"",onChange:e=>n({nutrition:{...v,proteinContent:e}}),placeholder:"15g"}),(0,e.createElement)(r.TextControl,{label:(0,l.__)("Fat","dm-recipes"),value:v.fatContent||"",onChange:e=>n({nutrition:{...v,fatContent:e}}),placeholder:"10g"}),(0,e.createElement)(r.TextControl,{label:(0,l.__)("Serving Size","dm-recipes"),value:v.servingSize||"",onChange:e=>n({nutrition:{...v,servingSize:e}}),placeholder:"1 cup"}))),(0,e.createElement)("div",{style:{marginBottom:"24px"}},(0,e.createElement)("h4",{style:{marginBottom:"12px",color:"#1e1e1e"}},(0,l.__)("Additional Information (Optional)","dm-recipes")),(0,e.createElement)("div",{style:{marginBottom:"12px"}},(0,e.createElement)(c,{label:(0,l.__)("Keywords/Tags","dm-recipes"),tags:x,onChange:e=>n({keywords:e})})),(0,e.createElement)("div",{style:{marginBottom:"12px"}},(0,e.createElement)(c,{label:(0,l.__)("Suitable for Diet","dm-recipes"),tags:b,onChange:e=>n({suitableForDiet:e})})),(0,e.createElement)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"}},(0,e.createElement)(r.TextControl,{label:(0,l.__)("Estimated Cost","dm-recipes"),value:k,onChange:e=>n({estimatedCost:e}),placeholder:"$15, Â£10"})),(0,e.createElement)("div",{style:{marginTop:"12px"}},(0,e.createElement)(o,{label:(0,l.__)("Tools/Equipment","dm-recipes"),items:B,onChange:e=>n({tool:e}),placeholder:"e.g., mixing bowl, whisk, oven"}))))},save:()=>null})})();