(()=>{"use strict";const e=window.React,a=window.wp.blocks,t=window.wp.blockEditor,n=window.wp.components,i=window.wp.element,r=window.wp.i18n,l=({label:a,value:t,onChange:l})=>{const[o,c]=(0,i.useState)(0),[m,s]=(0,i.useState)(0);return(0,i.useEffect)(()=>{if(t&&t.startsWith("PT")){const e=t.substring(2),a=e.match(/(\d+)H/),n=e.match(/(\d+)M/);a&&c(parseInt(a[1])),n&&s(parseInt(n[1]))}},[]),(0,i.useEffect)(()=>{let e="PT";o>0&&(e+=o+"H"),m>0&&(e+=m+"M"),"PT"===e&&(e=""),l(e)},[o,m]),(0,e.createElement)("div",{className:"recipe-duration-input"},(0,e.createElement)("label",null,a),(0,e.createElement)("div",{style:{display:"flex",gap:"10px",alignItems:"center"}},(0,e.createElement)(n.__experimentalNumberControl,{label:(0,r.__)("Hours","data-machine-recipes"),value:o,min:0,onChange:e=>c(parseInt(e)||0)}),(0,e.createElement)(n.__experimentalNumberControl,{label:(0,r.__)("Minutes","data-machine-recipes"),value:m,min:0,max:59,onChange:e=>s(parseInt(e)||0)})))},o=({label:a,items:t,onChange:i,placeholder:l})=>(0,e.createElement)("div",{className:"recipe-array-input"},(0,e.createElement)("label",null,a),t.map((a,o)=>(0,e.createElement)("div",{key:o,style:{display:"flex",gap:"10px",marginBottom:"10px"}},(0,e.createElement)(n.TextareaControl,{value:a,onChange:e=>{((e,a)=>{const n=[...t];n[e]=a,i(n)})(o,e)},placeholder:l,rows:2}),(0,e.createElement)(n.Button,{isSecondary:!0,isDestructive:!0,onClick:()=>{(e=>{const a=t.filter((a,t)=>t!==e);i(a)})(o)}},(0,r.__)("Remove","data-machine-recipes")))),(0,e.createElement)(n.Button,{isPrimary:!0,onClick:()=>{i([...t,""])}},(0,r.__)("Add Item","data-machine-recipes"))),c=({label:a,tags:t,onChange:l})=>{const[o,c]=(0,i.useState)(""),m=()=>{o.trim()&&!t.includes(o.trim())&&(l([...t,o.trim()]),c(""))};return(0,e.createElement)("div",{className:"recipe-tag-input"},(0,e.createElement)("label",null,a),(0,e.createElement)("div",{style:{marginBottom:"10px"}},t.map((a,n)=>(0,e.createElement)("span",{key:n,className:"recipe-tag",style:{display:"inline-block",background:"#e0e0e0",padding:"2px 8px",margin:"2px",borderRadius:"3px"}},a,(0,e.createElement)("button",{onClick:()=>{var e;e=n,l(t.filter((a,t)=>t!==e))},style:{marginLeft:"5px",background:"none",border:"none",cursor:"pointer"}},"Ã—")))),(0,e.createElement)("div",{style:{display:"flex",gap:"10px"}},(0,e.createElement)(n.TextControl,{value:o,onChange:c,onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),m())},placeholder:(0,r.__)("Enter tag and press Enter","data-machine-recipes")}),(0,e.createElement)(n.Button,{isSecondary:!0,onClick:m},(0,r.__)("Add","data-machine-recipes"))))};(0,a.registerBlockType)("data-machine-recipes/recipe-schema",{title:(0,r.__)("Recipe Schema","data-machine-recipes"),icon:"food",category:"common",description:(0,r.__)("Complete Schema.org Recipe structured data block","data-machine-recipes"),edit:({attributes:a,setAttributes:i})=>{const{recipeName:m,description:s,prepTime:p,cookTime:d,totalTime:h,recipeYield:g,recipeCategory:u,recipeCuisine:_,recipeIngredient:C,recipeInstructions:E,nutrition:v,suitableForDiet:b,keywords:x,cookingMethod:y,video:f,author:T,estimatedCost:k,tool:B,supply:w}=a,I=(0,t.useBlockProps)(),S=[{label:(0,r.__)("Select Cuisine","data-machine-recipes"),value:""},{label:(0,r.__)("American","data-machine-recipes"),value:"American"},{label:(0,r.__)("Italian","data-machine-recipes"),value:"Italian"},{label:(0,r.__)("Mexican","data-machine-recipes"),value:"Mexican"},{label:(0,r.__)("Chinese","data-machine-recipes"),value:"Chinese"},{label:(0,r.__)("Indian","data-machine-recipes"),value:"Indian"},{label:(0,r.__)("French","data-machine-recipes"),value:"French"},{label:(0,r.__)("Mediterranean","data-machine-recipes"),value:"Mediterranean"},{label:(0,r.__)("Asian","data-machine-recipes"),value:"Asian"},{label:(0,r.__)("European","data-machine-recipes"),value:"European"},{label:(0,r.__)("Other","data-machine-recipes"),value:"Other"}];return(0,e.createElement)("div",{...I},(0,e.createElement)("div",{style:{background:"#f8f9fa",border:"1px solid #e0e0e0",borderRadius:"4px",padding:"16px",marginBottom:"20px"}},(0,e.createElement)("h3",{style:{margin:"0 0 8px 0",color:"#1e1e1e"}},"ðŸ½ï¸ ",(0,r.__)("Recipe Schema Block","data-machine-recipes")),(0,e.createElement)("p",{style:{margin:0,color:"#666",fontSize:"14px"}},(0,r.__)("This block generates structured data for search engines using the post featured image. Content is not displayed on the frontend but provides rich recipe information for SEO and search results.","data-machine-recipes"))),(0,e.createElement)("div",{style:{marginBottom:"24px"}},(0,e.createElement)("h4",{style:{marginBottom:"12px",color:"#1e1e1e"}},(0,r.__)("Basic Information","data-machine-recipes")),(0,e.createElement)(n.TextControl,{label:(0,r.__)("Recipe Name","data-machine-recipes"),value:m,onChange:e=>i({recipeName:e}),style:{marginBottom:"12px"}}),(0,e.createElement)(n.TextareaControl,{label:(0,r.__)("Description","data-machine-recipes"),value:s,onChange:e=>i({description:e}),rows:4,style:{marginBottom:"12px"}})),(0,e.createElement)("div",{style:{marginBottom:"24px"}},(0,e.createElement)("h4",{style:{marginBottom:"12px",color:"#1e1e1e"}},(0,r.__)("Timing","data-machine-recipes")),(0,e.createElement)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px"}},(0,e.createElement)(l,{label:(0,r.__)("Prep Time","data-machine-recipes"),value:p,onChange:e=>i({prepTime:e})}),(0,e.createElement)(l,{label:(0,r.__)("Cook Time","data-machine-recipes"),value:d,onChange:e=>i({cookTime:e})}),(0,e.createElement)(l,{label:(0,r.__)("Total Time","data-machine-recipes"),value:h,onChange:e=>i({totalTime:e})}),(0,e.createElement)(n.TextControl,{label:(0,r.__)("Yield (servings)","data-machine-recipes"),value:g,onChange:e=>i({recipeYield:e}),placeholder:"e.g., 4 servings"}))),(0,e.createElement)("div",{style:{marginBottom:"24px"}},(0,e.createElement)("h4",{style:{marginBottom:"12px",color:"#1e1e1e"}},(0,r.__)("Categories & Cuisine","data-machine-recipes")),(0,e.createElement)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px"}},(0,e.createElement)(n.SelectControl,{label:(0,r.__)("Cuisine","data-machine-recipes"),value:_,options:S,onChange:e=>i({recipeCuisine:e})}),(0,e.createElement)(n.TextControl,{label:(0,r.__)("Cooking Method","data-machine-recipes"),value:y,onChange:e=>i({cookingMethod:e}),placeholder:"e.g., Baking, Frying"})),(0,e.createElement)("div",{style:{marginTop:"12px"}},(0,e.createElement)(c,{label:(0,r.__)("Recipe Categories","data-machine-recipes"),tags:u,onChange:e=>i({recipeCategory:e})}))),(0,e.createElement)("div",{style:{marginBottom:"24px"}},(0,e.createElement)(o,{label:(0,r.__)("Recipe Ingredients","data-machine-recipes"),items:C,onChange:e=>i({recipeIngredient:e}),placeholder:"e.g., 1 cup flour, 2 eggs, 1/2 cup sugar"})),(0,e.createElement)("div",{style:{marginBottom:"24px"}},(0,e.createElement)(o,{label:(0,r.__)("Recipe Instructions","data-machine-recipes"),items:E,onChange:e=>i({recipeInstructions:e}),placeholder:"Enter each step of the recipe"})),(0,e.createElement)("div",{style:{marginBottom:"24px"}},(0,e.createElement)("h4",{style:{marginBottom:"12px",color:"#1e1e1e"}},(0,r.__)("Nutrition Information (Optional)","data-machine-recipes")),(0,e.createElement)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"12px"}},(0,e.createElement)(n.TextControl,{label:(0,r.__)("Calories","data-machine-recipes"),value:v.calories||"",onChange:e=>i({nutrition:{...v,calories:e}}),placeholder:"250 calories"}),(0,e.createElement)(n.TextControl,{label:(0,r.__)("Carbs","data-machine-recipes"),value:v.carbohydrateContent||"",onChange:e=>i({nutrition:{...v,carbohydrateContent:e}}),placeholder:"30g"}),(0,e.createElement)(n.TextControl,{label:(0,r.__)("Protein","data-machine-recipes"),value:v.proteinContent||"",onChange:e=>i({nutrition:{...v,proteinContent:e}}),placeholder:"15g"}),(0,e.createElement)(n.TextControl,{label:(0,r.__)("Fat","data-machine-recipes"),value:v.fatContent||"",onChange:e=>i({nutrition:{...v,fatContent:e}}),placeholder:"10g"}),(0,e.createElement)(n.TextControl,{label:(0,r.__)("Serving Size","data-machine-recipes"),value:v.servingSize||"",onChange:e=>i({nutrition:{...v,servingSize:e}}),placeholder:"1 cup"}))),(0,e.createElement)("div",{style:{marginBottom:"24px"}},(0,e.createElement)("h4",{style:{marginBottom:"12px",color:"#1e1e1e"}},(0,r.__)("Additional Information (Optional)","data-machine-recipes")),(0,e.createElement)("div",{style:{marginBottom:"12px"}},(0,e.createElement)(c,{label:(0,r.__)("Keywords/Tags","data-machine-recipes"),tags:x,onChange:e=>i({keywords:e})})),(0,e.createElement)("div",{style:{marginBottom:"12px"}},(0,e.createElement)(c,{label:(0,r.__)("Suitable for Diet","data-machine-recipes"),tags:b,onChange:e=>i({suitableForDiet:e})})),(0,e.createElement)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"}},(0,e.createElement)(n.TextControl,{label:(0,r.__)("Estimated Cost","data-machine-recipes"),value:k,onChange:e=>i({estimatedCost:e}),placeholder:"$15, Â£10"})),(0,e.createElement)("div",{style:{marginTop:"12px"}},(0,e.createElement)(o,{label:(0,r.__)("Tools/Equipment","data-machine-recipes"),items:B,onChange:e=>i({tool:e}),placeholder:"e.g., mixing bowl, whisk, oven"}))))},save:()=>null})})();